var u=Object.defineProperty;var m=(o,e,r)=>e in o?u(o,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):o[e]=r;var c=(o,e,r)=>(m(o,typeof e!="symbol"?e+"":e,r),r);import{j as l,r as f,R as h,a as g}from"./vendor.8bd0e44e.js";const p=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))s(n);new MutationObserver(n=>{for(const a of n)if(a.type==="childList")for(const i of a.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&s(i)}).observe(document,{childList:!0,subtree:!0});function r(n){const a={};return n.integrity&&(a.integrity=n.integrity),n.referrerpolicy&&(a.referrerPolicy=n.referrerpolicy),n.crossorigin==="use-credentials"?a.credentials="include":n.crossorigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function s(n){if(n.ep)return;n.ep=!0;const a=r(n);fetch(n.href,a)}};p();const t=l.exports.jsx,d=l.exports.jsxs;function _(o){function e(i){i.preventDefault(),o.onRequest()}const{name:r,onChangeName:s,error:n}=o;return t("form",{className:"gender__form form-gender",onSubmit:e,children:d("div",{className:"form-gender__field",children:[t("input",{type:"text",placeholder:"Enter Name",className:`form-gender__input ${n?"_error":null}`,value:r,onChange:i=>s(i.target.value)}),t("button",{type:"submit",className:"form-gender__button",children:"Get info"})]})})}function N(){return t("div",{className:"info-gender__error",children:"Error: The entered data is not correct!"})}function v(o){const{data:e,error:r,loaded:s}=o,n=r||s?"_active":null,a=r?t(N,{}):null,i=s&&!r?t(y,{data:e}):null;return d("div",{className:`gender__info info-gender ${n}`,children:[i,a]})}function y(o){const{name:e,gender:r}=o.data;return d("div",{className:"info-gender__body",children:[d("div",{className:"info-gender__item info-gender__item_name",children:[t("span",{children:"Name:"}),t("span",{children:e})]}),d("div",{className:"info-gender__item info-gender__item_gender",children:[t("span",{children:"Gender:"}),t("span",{children:r})]})]})}class w{constructor(){c(this,"_apiBase","https://api.genderize.io")}async getResource(e){const r=await fetch(e);if(!r.ok)throw new Error(`Could not fetch ${e}, status: ${r.status}`);return await r.json()}async getInfo(e){const r=await this.getResource(`${this._apiBase}?name=${e}`);return this._transformData(r)}_transformData(e){const{name:r,gender:s}=e;return{name:r,gender:s}}}class b extends f.exports.Component{constructor(){super(...arguments);c(this,"state",{name:"",data:{},loaded:!1,error:!1});c(this,"network",new w);c(this,"onChangeName",e=>{this.setState({name:e})});c(this,"onRequest",()=>{this.network.getInfo(this.state.name).then(this.onDataLoaded).catch(this.onError)});c(this,"onDataLoaded",e=>{this.setState({data:e,loaded:!0,error:!1})});c(this,"onError",()=>{this.setState({error:!0})})}render(){const{name:e,data:r,loaded:s,error:n}=this.state;return t("div",{className:"wrapper",children:t("main",{className:"page",children:t("div",{className:"page__container _container",children:d("div",{className:"page__gender gender",children:[t("h1",{className:"gender__title",children:"Find out gender by name"}),t(_,{name:e,error:n,onChangeName:this.onChangeName,onRequest:this.onRequest}),t(v,{data:r,loaded:s,error:n})]})})})})}}h.render(t(g.StrictMode,{children:t(b,{})}),document.getElementById("root"));
