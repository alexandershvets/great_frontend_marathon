var u=Object.defineProperty;var f=(s,e,r)=>e in s?u(s,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):s[e]=r;var i=(s,e,r)=>(f(s,typeof e!="symbol"?e+"":e,r),r);import{j as l,r as m,R as h,a as p}from"./vendor.8bd0e44e.js";const g=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))a(t);new MutationObserver(t=>{for(const o of t)if(o.type==="childList")for(const c of o.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&a(c)}).observe(document,{childList:!0,subtree:!0});function r(t){const o={};return t.integrity&&(o.integrity=t.integrity),t.referrerpolicy&&(o.referrerPolicy=t.referrerpolicy),t.crossorigin==="use-credentials"?o.credentials="include":t.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function a(t){if(t.ep)return;t.ep=!0;const o=r(t);fetch(t.href,o)}};g();const n=l.exports.jsx,d=l.exports.jsxs;class _ extends m.exports.Component{constructor(){super(...arguments);i(this,"handleSubmit",e=>{this.props.onRequest(),e.preventDefault()})}render(){const{name:e,onChangeName:r,error:a}=this.props,t=a?"_error":null;return n("form",{className:"gender__form form-gender",onSubmit:this.handleSubmit,children:d("div",{className:"form-gender__field",children:[n("input",{type:"text",placeholder:"Enter Name",className:`form-gender__input ${t}`,value:e,onChange:o=>r(o.target.value)}),n("button",{type:"submit",className:"form-gender__button",children:"Get info"})]})})}}function N(){return n("div",{className:"info-gender__error",children:"Error: The entered data is not correct!"})}function v(s){const{data:e,error:r,loaded:a}=s,t=r||a?"_active":null,o=r?n(N,{}):null,c=a&&!r?n(y,{data:e}):null;return d("div",{className:`gender__info info-gender ${t}`,children:[c,o]})}function y(s){const{name:e,gender:r}=s.data;return d("div",{className:"info-gender__body",children:[d("div",{className:"info-gender__item info-gender__item_name",children:[n("span",{children:"Name:"}),n("span",{children:e})]}),d("div",{className:"info-gender__item info-gender__item_gender",children:[n("span",{children:"Gender:"}),n("span",{children:r})]})]})}class w{constructor(){i(this,"_apiBase","https://api.genderize.io")}async getResource(e){const r=await fetch(e);if(!r.ok)throw new Error(`Could not fetch ${e}, status: ${r.status}`);return await r.json()}async getInfo(e){const r=await this.getResource(`${this._apiBase}?name=${e}`);return this._transformData(r)}_transformData(e){const{name:r,gender:a}=e;return{name:r,gender:a}}}class x extends m.exports.Component{constructor(){super(...arguments);i(this,"state",{name:"",data:{},loaded:!1,error:!1});i(this,"network",new w);i(this,"onChangeName",e=>{this.setState({name:e})});i(this,"onRequest",()=>{this.network.getInfo(this.state.name).then(this.onDataLoaded).catch(this.onError)});i(this,"onDataLoaded",e=>{this.setState({data:e,loaded:!0,error:!1})});i(this,"onError",()=>{this.setState({error:!0})})}render(){const{name:e,data:r,loaded:a,error:t}=this.state;return n("div",{className:"wrapper",children:n("main",{className:"page",children:n("div",{className:"page__container _container",children:d("div",{className:"page__gender gender",children:[n("h1",{className:"gender__title",children:"Find out gender by name"}),n(_,{name:e,error:t,onChangeName:this.onChangeName,onRequest:this.onRequest}),n(v,{data:r,loaded:a,error:t})]})})})})}}h.render(n(p.StrictMode,{children:n(x,{})}),document.getElementById("root"));
